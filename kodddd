import psycopg2

connection = None
cursor = None

try:
    connection = psycopg2.connect(
        dbname="nominatim",
        user="nominatim",
        password="nominatim",
        host="127.0.0.1",
        port="5432"
    )

    cursor = connection.cursor()

    cursor.execute("SELECT version();")

    db_version = cursor.fetchone()
    print(f"Connected to PostgreSQL database, version: {db_version}")

except Exception as error:
    print(f"Error connecting to PostgreSQL database: {error}")

finally:
    if cursor is not None:
        cursor.close()
    if connection is not None:
        connection.close()
