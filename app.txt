# Calculate transition factors for each triangle
calculate_transition_factors <- function(triangle) {
  factors <- numeric(ncol(triangle) - 1)
  for (j in 1:(ncol(triangle) - 1)) {
    factors[j] <- sum(triangle[, j + 1], na.rm = TRUE) / sum(triangle[, j], na.rm = TRUE)
  }
  return(factors)
}

# Calculate transition factors for each triangle
transition_factors_majatki <- calculate_transition_factors(triangle_majatki)
transition_factors_osobowe <- calculate_transition_factors(triangle_osobowe)
transition_factors_zadoscuczynienia <- calculate_transition_factors(triangle_zadoscuczynienia)

# Create a data frame for plotting
df <- data.frame(
  Development_Year = 1:length(transition_factors_majatki),
  Majatki = transition_factors_majatki,
  Osobowe = transition_factors_osobowe,
  Zadoscuczynienia = transition_factors_zadoscuczynienia
)

# Plot the transition factors
matplot(df$Development_Year, df[, -1], type = "b", pch = 1, col = c("blue", "red", "green"),
        xlab = "Rok Rozwoju", ylab = "Współczynniki Przejścia",
        main = "Współczynniki Przejścia dla Trójkątów Szkód")
legend("topright", legend = c("Majątki", "Osobowe", "Zadośćuczynienia"),
       col = c("blue", "red", "green"), pch = 1)
