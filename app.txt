calculate_percentage <- function(trojkat_zadoscuczynienia, trojkat_laczny) {
  # Inicjalizacja ramki dla wyników
  percentage_results <- data.frame(Rok = colnames(trojkat_laczny), Udział = NA)
  
  for (i in 1:ncol(trojkat_laczny)) {
    # Obliczanie wartości w trójkącie zadośćuczynienia i łącznym
    zadoscuczenie_value <- trojkat_zadoscuczynienia[, i]
    laczny_value <- trojkat_laczny[, i]
    
    # Obliczanie procentu
    percentage_results$Udział[i] <- (sum(zadoscuczenie_value, na.rm = TRUE) / 
                                      sum(laczny_value, na.rm = TRUE)) * 100
  }
  
  return(percentage_results)
}

# Wywołanie funkcji
result_percentage <- calculate_percentage(trojkat_zadoscuczynienia, trojkat_laczny)
