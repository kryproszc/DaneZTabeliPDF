library(httr)

# Ustawienie URL API z kodem pocztowym
base_url <- "http://dft-everace:8080/search.php"
postal_code <- "32-100"  # kod pocztowy, który chcesz wyszukać

# Wykonanie zapytania GET do API
response <- GET(base_url, query = list(q = postal_code))

# Sprawdź status odpowiedzi
if (status_code(response) == 200) {
  # Pobierz dane w formacie tekstowym (JSON, HTML itp.)
  content_data <- content(response, as = "text", encoding = "UTF-8")
  
  # Wyświetl odpowiedź
  print(content_data)
} else {
  # W przypadku błędu wyświetl komunikat o błędzie
  print(paste("Błąd podczas połączenia. Status:", status_code(response)))
}
