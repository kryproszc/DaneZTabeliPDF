# Example data: Replace these with your actual data for each triangle
triangle_majatki <- MackChainLadder(RAA, est.sigma = "Mack")$Triangle # Replace RAA with your data
triangle_osobowe <- MackChainLadder(RAA, est.sigma = "Mack")$Triangle # Replace RAA with your data
triangle_zadoscuczynienia <- MackChainLadder(RAA, est.sigma = "Mack")$Triangle # Replace RAA with your data
triangle_laczone <- MackChainLadder(RAA, est.sigma = "Mack")$Triangle # Replace RAA with your data

# Convert triangles to data frames and flatten them into vectors
vector_majatki <- as.vector(triangle_majatki)
vector_osobowe <- as.vector(triangle_osobowe)
vector_zadoscuczynienia <- as.vector(triangle_zadoscuczynienia)
vector_laczone <- as.vector(triangle_laczone)

# Combine vectors into a data frame for correlation analysis
data_correlation <- data.frame(
  Majatki = vector_majatki,
  Osobowe = vector_osobowe,
  Zadoscuczynienia = vector_zadoscuczynienia,
  Laczone = vector_laczone
)

# Calculate correlation matrix
correlation_matrix <- cor(data_correlation, use = "complete.obs")

# Print correlation matrix
print(correlation_matrix)

# Plot a heatmap of the correlation matrix
install.packages("corrplot")
library(corrplot)
corrplot(correlation_matrix, method = "color", type = "upper", tl.col = "black", tl.srt = 45)
