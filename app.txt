create_pattern_matrix <- function(df_paid_l, pattern_number) {
  # Replace non-NA values with 1 and NA values with NaN
  reduced_df <- df_paid_l
  reduced_df[!is.na(reduced_df)] <- 1
  reduced_df[is.na(reduced_df)] <- NaN
  
  # Get the number of rows (assuming a square matrix)
  size <- nrow(reduced_df)
  reduced_df_copy <- reduced_df
  
  # Loop to set specific elements to 0
  for (j in 1:size) {
    for (i in 1:(size - pattern_number)) {
      if (i <= (size - pattern_number - j + 1)) {
        reduced_df_copy[i, j] <- 0
      }
    }
  }
  
  return(reduced_df_copy)
}
