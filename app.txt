gminy_aggregated <- df_joined %>%
  group_by(gmina) %>%
  summarize(ilosc = sum(ilosc, na.rm = TRUE))

# Wizualizacja mapy z gradacją kolorów
ggplot(data = gminy_aggregated) +
  geom_sf(aes(fill = ilosc), color = "black") +
  scale_fill_viridis_c(option = "plasma", trans = "log") +
  theme_minimal() +
  labs(title = "Mapa gmin z zaznaczoną ilością wystąpień",
       fill = "Ilość wystąpień") +
  theme(plot.title = element_text(hjust = 0.5))
