tm_shape(polska) +
  tm_borders(col = "black") +  # Granice wszystkich gmin
  tm_shape(gmina_sf) +
  tm_fill(col = "yellow", alpha = 0.6) +  # Zaznaczenie znalezionej gminy na żółto
  tm_shape(punkt_sf) +
  tm_dots(col = "red", size = 0.5) +  # Zaznaczenie punktu na czerwono
  tm_layout(title = "Zaznaczenie gminy na mapie Polski") +
  tmap_mode("plot")  # Tryb renderowania wykresu

# Zapis mapy do pliku PNG
tmap_save(tm = last_map(), filename = "mapa_gmina.png", width = 10, height = 7, units = "in")


map <- ggplot() +
  geom_sf(data = polska, fill = "lightblue", color = "black") +  # Rysowanie wszystkich granic gmin
  geom_sf(data = gmina_sf, fill = "yellow", color = "black") +  # Zaznaczenie znalezionej gminy innym kolorem
  geom_sf(data = punkt_sf, color = "red", size = 3) +  # Zaznaczenie punktu na mapie
  theme_minimal() +
  labs(title = "Zaznaczenie gminy na mapie Polski na podstawie współrzędnych") +
  coord_sf()

# Renderowanie i zapis mapy
print(map)
ggsave("mapa_gmina.png", plot = map, width = 10, height = 7, units = "in", dpi = 300)

