#include <QApplication>
#include <QLabel>
#include <QLineEdit>
#include <QPushButton>
#include <QVBoxLayout>
#include <cmath>

int main(int argc, char *argv[]) {
    QApplication app(argc, argv);

    // Tworzenie okna głównego
    QWidget window;
    window.setWindowTitle("Kalkulator miejsc zerowych");
    
    // Tworzenie widgetów
    QLabel label("Podaj współczynniki a, b i c:");
    QLineEdit aLineEdit, bLineEdit, cLineEdit;
    QPushButton calculateButton("Oblicz");
    QLabel resultLabel;

    // Utworzenie layoutu
    QVBoxLayout layout(&window);
    layout.addWidget(&label);
    layout.addWidget(&aLineEdit);
    layout.addWidget(&bLineEdit);
    layout.addWidget(&cLineEdit);
    layout.addWidget(&calculateButton);
    layout.addWidget(&resultLabel);

    // Połączenie sygnału kliknięcia przycisku z funkcją obliczającą
    QObject::connect(&calculateButton, &QPushButton::clicked, [&]() {
        // Pobranie współczynników z pól tekstowych
        float a = aLineEdit.text().toFloat();
        float b = bLineEdit.text().toFloat();
        float c = cLineEdit.text().toFloat();

        // Obliczenie miejsc zerowych
        float delta = b * b - 4 * a * c;
        if (delta > 0) {
            float x1 = (-b + std::sqrt(delta)) / (2 * a);
            float x2 = (-b - std::sqrt(delta)) / (2 * a);
            resultLabel.setText(QString("Miejsca zerowe funkcji: x1 = %1, x2 = %2").arg(x1).arg(x2));
        } else if (delta == 0) {
            float x = -b / (2 * a);
            resultLabel.setText(QString("Funkcja ma jedno podwójne miejsce zerowe: x = %1").arg(x));
        } else {
            resultLabel.setText("Funkcja nie ma miejsc zerowych");
        }
    });

    window.show();

    return app.exec();
}