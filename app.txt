# Określenie niestandardowych kolorów dla kategorii
custom_colors <- c("lightgray", "#fee0d2", "#fc9272", "#fb6a4a", "#de2d26", "#a50f15")  # Przykładowe kolory
levels_count <- length(levels(df_joined$ilosc_category))  # Liczba kategorii

# Tworzenie pliku graficznego PNG
png(filename = "mapa_gmin_statyczna.png", width = 10, height = 8, units = "in", res = 300)

# Rysowanie mapy w pliku graficznym
plot(df_joined_simplified["ilosc_category"], 
     col = custom_colors[1:levels_count],  # Przypisanie kolorów do wykresu
     main = "Mapa gmin z dynamicznie podzielonymi przedziałami budynków",
     key.pos = NULL)  # Wyłączenie domyślnej legendy

# Dodanie legendy z niestandardowymi kolorami
legend("topright",
       legend = levels(df_joined$ilosc_category),  # Etykiety legendy
       fill = custom_colors[1:levels_count],  # Przypisanie kolorów do legendy
       title = "Liczba budynków",
       cex = 0.8,
       bg = "white",
       bty = "n")
