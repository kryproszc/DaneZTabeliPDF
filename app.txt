# Upewnij się, że `coordinates_with_regon` jest obiektem sf, ale bez geometrii do join
coordinates_df <- as.data.frame(st_drop_geometry(coordinates_with_regon))

# Sumowanie liczby wystąpień dla każdego REGON w `coordinates_with_regon`
ilosc_regon <- coordinates_df %>%
  group_by(REGON) %>%
  summarise(ilosc = sum(ilosc, na.rm = TRUE))

# Dodanie kolumny `ilosc` do `gminy_unikaty` na podstawie `REGON`
gminy_unikaty <- gminy_unikaty %>%
  left_join(ilosc_regon, by = "REGON")

# Sprawdzenie wynikowego zbioru danych
print(gminy_unikaty)
